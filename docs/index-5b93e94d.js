var Nt=Object.defineProperty;var It=(t,n,e)=>n in t?Nt(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e;var u=(t,n,e)=>(It(t,typeof n!="symbol"?n+"":n,e),e);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function e(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerpolicy&&(a.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?a.credentials="include":s.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=e(s);fetch(s.href,a)}})();function Tt(t){if(t.__esModule)return t;var n=t.default;if(typeof n=="function"){var e=function r(){if(this instanceof r){var s=[null];s.push.apply(s,arguments);var a=Function.bind.apply(n,s);return new a}return n.apply(this,arguments)};e.prototype=n.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),e}function $t(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var O={},_t={get exports(){return O},set exports(t){O=t}};const Rt={},Xt=Object.freeze(Object.defineProperty({__proto__:null,default:Rt},Symbol.toStringTag,{value:"Module"})),Yt=Tt(Xt);var mt=typeof process<"u"&&process.pid?process.pid.toString(36):"",bt="";if(typeof __webpack_require__!="function"&&typeof $t<"u"){var V="",dt=Yt;if(dt.networkInterfaces)var J=dt.networkInterfaces();if(J){t:for(let t in J){const n=J[t],e=n.length;for(var A=0;A<e;A++)if(n[A]!==void 0&&n[A].mac&&n[A].mac!="00:00:00:00:00:00"){V=n[A].mac;break t}}bt=V?parseInt(V.replace(/\:|\D+/gi,"")).toString(36):""}}_t.exports=O.default=function(t,n){return(t||"")+bt+mt+q().toString(36)+(n||"")};O.process=function(t,n){return(t||"")+mt+q().toString(36)+(n||"")};O.time=function(t,n){return(t||"")+q().toString(36)+(n||"")};function q(){var t=Date.now(),n=q.last||t;return q.last=t>n?t:n+1}const N=document.getElementById("canvas"),f=N.getContext("2d"),Lt=60,C=1e3/Lt;var m={},Bt={get exports(){return m},set exports(t){m=t}};(function(t,n){t.exports=e;function e(o,c){if(!(this instanceof e))return new e(o,c);this.x=o||0,this.y=c||0}e.fromArray=function(o){return new e(o[0]||0,o[1]||0)},e.fromObject=function(o){return new e(o.x||0,o.y||0)},e.prototype.addX=function(o){return this.x+=o.x,this},e.prototype.addY=function(o){return this.y+=o.y,this},e.prototype.add=function(o){return this.x+=o.x,this.y+=o.y,this},e.prototype.addScalar=function(o){return this.x+=o,this.y+=o,this},e.prototype.addScalarX=function(o){return this.x+=o,this},e.prototype.addScalarY=function(o){return this.y+=o,this},e.prototype.subtractX=function(o){return this.x-=o.x,this},e.prototype.subtractY=function(o){return this.y-=o.y,this},e.prototype.subtract=function(o){return this.x-=o.x,this.y-=o.y,this},e.prototype.subtractScalar=function(o){return this.x-=o,this.y-=o,this},e.prototype.subtractScalarX=function(o){return this.x-=o,this},e.prototype.subtractScalarY=function(o){return this.y-=o,this},e.prototype.divideX=function(o){return this.x/=o.x,this},e.prototype.divideY=function(o){return this.y/=o.y,this},e.prototype.divide=function(o){return this.x/=o.x,this.y/=o.y,this},e.prototype.divideScalar=function(o){return o!==0?(this.x/=o,this.y/=o):(this.x=0,this.y=0),this},e.prototype.divideScalarX=function(o){return o!==0?this.x/=o:this.x=0,this},e.prototype.divideScalarY=function(o){return o!==0?this.y/=o:this.y=0,this},e.prototype.invertX=function(){return this.x*=-1,this},e.prototype.invertY=function(){return this.y*=-1,this},e.prototype.invert=function(){return this.invertX(),this.invertY(),this},e.prototype.multiplyX=function(o){return this.x*=o.x,this},e.prototype.multiplyY=function(o){return this.y*=o.y,this},e.prototype.multiply=function(o){return this.x*=o.x,this.y*=o.y,this},e.prototype.multiplyScalar=function(o){return this.x*=o,this.y*=o,this},e.prototype.multiplyScalarX=function(o){return this.x*=o,this},e.prototype.multiplyScalarY=function(o){return this.y*=o,this},e.prototype.normalize=function(){var o=this.length();return o===0?(this.x=1,this.y=0):this.divide(e(o,o)),this},e.prototype.norm=e.prototype.normalize,e.prototype.limit=function(o,c){return Math.abs(this.x)>o&&(this.x*=c),Math.abs(this.y)>o&&(this.y*=c),this},e.prototype.randomize=function(o,c){return this.randomizeX(o,c),this.randomizeY(o,c),this},e.prototype.randomizeX=function(o,c){var h=Math.min(o.x,c.x),y=Math.max(o.x,c.x);return this.x=s(h,y),this},e.prototype.randomizeY=function(o,c){var h=Math.min(o.y,c.y),y=Math.max(o.y,c.y);return this.y=s(h,y),this},e.prototype.randomizeAny=function(o,c){return Math.round(Math.random())?this.randomizeX(o,c):this.randomizeY(o,c),this},e.prototype.unfloat=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},e.prototype.toFixed=function(o){return typeof o>"u"&&(o=8),this.x=this.x.toFixed(o),this.y=this.y.toFixed(o),this},e.prototype.mixX=function(o,c){return typeof c>"u"&&(c=.5),this.x=(1-c)*this.x+c*o.x,this},e.prototype.mixY=function(o,c){return typeof c>"u"&&(c=.5),this.y=(1-c)*this.y+c*o.y,this},e.prototype.mix=function(o,c){return this.mixX(o,c),this.mixY(o,c),this},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.copyX=function(o){return this.x=o.x,this},e.prototype.copyY=function(o){return this.y=o.y,this},e.prototype.copy=function(o){return this.copyX(o),this.copyY(o),this},e.prototype.zero=function(){return this.x=this.y=0,this},e.prototype.dot=function(o){return this.x*o.x+this.y*o.y},e.prototype.cross=function(o){return this.x*o.y-this.y*o.x},e.prototype.projectOnto=function(o){var c=(this.x*o.x+this.y*o.y)/(o.x*o.x+o.y*o.y);return this.x=c*o.x,this.y=c*o.y,this},e.prototype.horizontalAngle=function(){return Math.atan2(this.y,this.x)},e.prototype.horizontalAngleDeg=function(){return a(this.horizontalAngle())},e.prototype.verticalAngle=function(){return Math.atan2(this.x,this.y)},e.prototype.verticalAngleDeg=function(){return a(this.verticalAngle())},e.prototype.angle=e.prototype.horizontalAngle,e.prototype.angleDeg=e.prototype.horizontalAngleDeg,e.prototype.direction=e.prototype.horizontalAngle,e.prototype.rotate=function(o){var c=this.x*Math.cos(o)-this.y*Math.sin(o),h=this.x*Math.sin(o)+this.y*Math.cos(o);return this.x=c,this.y=h,this},e.prototype.rotateDeg=function(o){return o=i(o),this.rotate(o)},e.prototype.rotateTo=function(o){return this.rotate(o-this.angle())},e.prototype.rotateToDeg=function(o){return o=i(o),this.rotateTo(o)},e.prototype.rotateBy=function(o){var c=this.angle()+o;return this.rotate(c)},e.prototype.rotateByDeg=function(o){return o=i(o),this.rotateBy(o)},e.prototype.distanceX=function(o){return this.x-o.x},e.prototype.absDistanceX=function(o){return Math.abs(this.distanceX(o))},e.prototype.distanceY=function(o){return this.y-o.y},e.prototype.absDistanceY=function(o){return Math.abs(this.distanceY(o))},e.prototype.distance=function(o){return Math.sqrt(this.distanceSq(o))},e.prototype.distanceSq=function(o){var c=this.distanceX(o),h=this.distanceY(o);return c*c+h*h},e.prototype.length=function(){return Math.sqrt(this.lengthSq())},e.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y},e.prototype.magnitude=e.prototype.length,e.prototype.isZero=function(){return this.x===0&&this.y===0},e.prototype.isEqualTo=function(o){return this.x===o.x&&this.y===o.y},e.prototype.toString=function(){return"x:"+this.x+", y:"+this.y},e.prototype.toArray=function(){return[this.x,this.y]},e.prototype.toObject=function(){return{x:this.x,y:this.y}};var r=180/Math.PI;function s(o,c){return Math.floor(Math.random()*(c-o+1)+o)}function a(o){return o*r}function i(o){return o/r}})(Bt);var K={};K.generatePerlinNoise=Ut;K.generateWhiteNoise=vt;function Ut(t,n,e){e=e||{};var r=e.octaveCount||4,s=e.amplitude||.1,a=e.persistence||.2,i=vt(t,n),o=new Array(r),c;for(c=0;c<r;++c)o[c]=W(c);var h=new Array(t*n),y=0;for(c=r-1;c>=0;--c){s*=a,y+=s;for(var g=0;g<h.length;++g)h[g]=h[g]||0,h[g]+=o[c][g]*s}for(c=0;c<h.length;++c)h[c]/=y;return h;function W(Pt){for(var at=new Array(t*n),k=Math.pow(2,Pt),ct=1/k,lt=0,$=0;$<n;++$)for(var _=Math.floor($/k)*k,ht=(_+k)%n,ut=($-_)*ct,R=0;R<t;++R){var X=Math.floor(R/k)*k,ft=(X+k)%t,Ct=(R-X)*ct,Et=Z(i[_*t+X],i[ht*t+X],ut),qt=Z(i[_*t+ft],i[ht*t+ft],ut);at[lt]=Z(Et,qt,Ct),lt+=1}return at}}function vt(t,n){for(var e=new Array(t*n),r=0;r<e.length;++r)e[r]=Math.random();return e}function Z(t,n,e){return t*(1-e)+e*n}var nt={},jt={get exports(){return nt},set exports(t){nt=t}},wt={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},rt={},Gt={get exports(){return rt},set exports(t){rt=t}},Kt=function(n){return!n||typeof n=="string"?!1:n instanceof Array||Array.isArray(n)||n.length>=0&&(n.splice instanceof Function||Object.getOwnPropertyDescriptor(n,n.length-1)&&n.constructor.name!=="String")},Ht=Kt,Wt=Array.prototype.concat,Vt=Array.prototype.slice,yt=Gt.exports=function(n){for(var e=[],r=0,s=n.length;r<s;r++){var a=n[r];Ht(a)?e=Wt.call(e,Vt.call(a)):e.push(a)}return e};yt.wrap=function(t){return function(){return t(yt(arguments))}};var E=wt,T=rt,Mt=Object.hasOwnProperty,kt=Object.create(null);for(var Q in E)Mt.call(E,Q)&&(kt[E[Q]]=Q);var v=jt.exports={to:{},get:{}};v.get=function(t){var n=t.substring(0,3).toLowerCase(),e,r;switch(n){case"hsl":e=v.get.hsl(t),r="hsl";break;case"hwb":e=v.get.hwb(t),r="hwb";break;default:e=v.get.rgb(t),r="rgb";break}return e?{model:r,value:e}:null};v.get.rgb=function(t){if(!t)return null;var n=/^#([a-f0-9]{3,4})$/i,e=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,r=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,s=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,a=/^(\w+)$/,i=[0,0,0,1],o,c,h;if(o=t.match(e)){for(h=o[2],o=o[1],c=0;c<3;c++){var y=c*2;i[c]=parseInt(o.slice(y,y+2),16)}h&&(i[3]=parseInt(h,16)/255)}else if(o=t.match(n)){for(o=o[1],h=o[3],c=0;c<3;c++)i[c]=parseInt(o[c]+o[c],16);h&&(i[3]=parseInt(h+h,16)/255)}else if(o=t.match(r)){for(c=0;c<3;c++)i[c]=parseInt(o[c+1],0);o[4]&&(o[5]?i[3]=parseFloat(o[4])*.01:i[3]=parseFloat(o[4]))}else if(o=t.match(s)){for(c=0;c<3;c++)i[c]=Math.round(parseFloat(o[c+1])*2.55);o[4]&&(o[5]?i[3]=parseFloat(o[4])*.01:i[3]=parseFloat(o[4]))}else return(o=t.match(a))?o[1]==="transparent"?[0,0,0,0]:Mt.call(E,o[1])?(i=E[o[1]],i[3]=1,i):null:null;for(c=0;c<3;c++)i[c]=M(i[c],0,255);return i[3]=M(i[3],0,1),i};v.get.hsl=function(t){if(!t)return null;var n=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,e=t.match(n);if(e){var r=parseFloat(e[4]),s=(parseFloat(e[1])%360+360)%360,a=M(parseFloat(e[2]),0,100),i=M(parseFloat(e[3]),0,100),o=M(isNaN(r)?1:r,0,1);return[s,a,i,o]}return null};v.get.hwb=function(t){if(!t)return null;var n=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,e=t.match(n);if(e){var r=parseFloat(e[4]),s=(parseFloat(e[1])%360+360)%360,a=M(parseFloat(e[2]),0,100),i=M(parseFloat(e[3]),0,100),o=M(isNaN(r)?1:r,0,1);return[s,a,i,o]}return null};v.to.hex=function(){var t=T(arguments);return"#"+Y(t[0])+Y(t[1])+Y(t[2])+(t[3]<1?Y(Math.round(t[3]*255)):"")};v.to.rgb=function(){var t=T(arguments);return t.length<4||t[3]===1?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"};v.to.rgb.percent=function(){var t=T(arguments),n=Math.round(t[0]/255*100),e=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return t.length<4||t[3]===1?"rgb("+n+"%, "+e+"%, "+r+"%)":"rgba("+n+"%, "+e+"%, "+r+"%, "+t[3]+")"};v.to.hsl=function(){var t=T(arguments);return t.length<4||t[3]===1?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"};v.to.hwb=function(){var t=T(arguments),n="";return t.length>=4&&t[3]!==1&&(n=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+n+")"};v.to.keyword=function(t){return kt[t.slice(0,3)]};function M(t,n,e){return Math.min(Math.max(n,t),e)}function Y(t){var n=Math.round(t).toString(16).toUpperCase();return n.length<2?"0"+n:n}const I=wt,St={};for(const t of Object.keys(I))St[I[t]]=t;const l={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var At=l;for(const t of Object.keys(l)){if(!("channels"in l[t]))throw new Error("missing channels property: "+t);if(!("labels"in l[t]))throw new Error("missing channel labels property: "+t);if(l[t].labels.length!==l[t].channels)throw new Error("channel and label counts mismatch: "+t);const{channels:n,labels:e}=l[t];delete l[t].channels,delete l[t].labels,Object.defineProperty(l[t],"channels",{value:n}),Object.defineProperty(l[t],"labels",{value:e})}l.rgb.hsl=function(t){const n=t[0]/255,e=t[1]/255,r=t[2]/255,s=Math.min(n,e,r),a=Math.max(n,e,r),i=a-s;let o,c;a===s?o=0:n===a?o=(e-r)/i:e===a?o=2+(r-n)/i:r===a&&(o=4+(n-e)/i),o=Math.min(o*60,360),o<0&&(o+=360);const h=(s+a)/2;return a===s?c=0:h<=.5?c=i/(a+s):c=i/(2-a-s),[o,c*100,h*100]};l.rgb.hsv=function(t){let n,e,r,s,a;const i=t[0]/255,o=t[1]/255,c=t[2]/255,h=Math.max(i,o,c),y=h-Math.min(i,o,c),g=function(W){return(h-W)/6/y+1/2};return y===0?(s=0,a=0):(a=y/h,n=g(i),e=g(o),r=g(c),i===h?s=r-e:o===h?s=1/3+n-r:c===h&&(s=2/3+e-n),s<0?s+=1:s>1&&(s-=1)),[s*360,a*100,h*100]};l.rgb.hwb=function(t){const n=t[0],e=t[1];let r=t[2];const s=l.rgb.hsl(t)[0],a=1/255*Math.min(n,Math.min(e,r));return r=1-1/255*Math.max(n,Math.max(e,r)),[s,a*100,r*100]};l.rgb.cmyk=function(t){const n=t[0]/255,e=t[1]/255,r=t[2]/255,s=Math.min(1-n,1-e,1-r),a=(1-n-s)/(1-s)||0,i=(1-e-s)/(1-s)||0,o=(1-r-s)/(1-s)||0;return[a*100,i*100,o*100,s*100]};function Jt(t,n){return(t[0]-n[0])**2+(t[1]-n[1])**2+(t[2]-n[2])**2}l.rgb.keyword=function(t){const n=St[t];if(n)return n;let e=1/0,r;for(const s of Object.keys(I)){const a=I[s],i=Jt(t,a);i<e&&(e=i,r=s)}return r};l.keyword.rgb=function(t){return I[t]};l.rgb.xyz=function(t){let n=t[0]/255,e=t[1]/255,r=t[2]/255;n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92;const s=n*.4124+e*.3576+r*.1805,a=n*.2126+e*.7152+r*.0722,i=n*.0193+e*.1192+r*.9505;return[s*100,a*100,i*100]};l.rgb.lab=function(t){const n=l.rgb.xyz(t);let e=n[0],r=n[1],s=n[2];e/=95.047,r/=100,s/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,s=s>.008856?s**(1/3):7.787*s+16/116;const a=116*r-16,i=500*(e-r),o=200*(r-s);return[a,i,o]};l.hsl.rgb=function(t){const n=t[0]/360,e=t[1]/100,r=t[2]/100;let s,a,i;if(e===0)return i=r*255,[i,i,i];r<.5?s=r*(1+e):s=r+e-r*e;const o=2*r-s,c=[0,0,0];for(let h=0;h<3;h++)a=n+1/3*-(h-1),a<0&&a++,a>1&&a--,6*a<1?i=o+(s-o)*6*a:2*a<1?i=s:3*a<2?i=o+(s-o)*(2/3-a)*6:i=o,c[h]=i*255;return c};l.hsl.hsv=function(t){const n=t[0];let e=t[1]/100,r=t[2]/100,s=e;const a=Math.max(r,.01);r*=2,e*=r<=1?r:2-r,s*=a<=1?a:2-a;const i=(r+e)/2,o=r===0?2*s/(a+s):2*e/(r+e);return[n,o*100,i*100]};l.hsv.rgb=function(t){const n=t[0]/60,e=t[1]/100;let r=t[2]/100;const s=Math.floor(n)%6,a=n-Math.floor(n),i=255*r*(1-e),o=255*r*(1-e*a),c=255*r*(1-e*(1-a));switch(r*=255,s){case 0:return[r,c,i];case 1:return[o,r,i];case 2:return[i,r,c];case 3:return[i,o,r];case 4:return[c,i,r];case 5:return[r,i,o]}};l.hsv.hsl=function(t){const n=t[0],e=t[1]/100,r=t[2]/100,s=Math.max(r,.01);let a,i;i=(2-e)*r;const o=(2-e)*s;return a=e*s,a/=o<=1?o:2-o,a=a||0,i/=2,[n,a*100,i*100]};l.hwb.rgb=function(t){const n=t[0]/360;let e=t[1]/100,r=t[2]/100;const s=e+r;let a;s>1&&(e/=s,r/=s);const i=Math.floor(6*n),o=1-r;a=6*n-i,i&1&&(a=1-a);const c=e+a*(o-e);let h,y,g;switch(i){default:case 6:case 0:h=o,y=c,g=e;break;case 1:h=c,y=o,g=e;break;case 2:h=e,y=o,g=c;break;case 3:h=e,y=c,g=o;break;case 4:h=c,y=e,g=o;break;case 5:h=o,y=e,g=c;break}return[h*255,y*255,g*255]};l.cmyk.rgb=function(t){const n=t[0]/100,e=t[1]/100,r=t[2]/100,s=t[3]/100,a=1-Math.min(1,n*(1-s)+s),i=1-Math.min(1,e*(1-s)+s),o=1-Math.min(1,r*(1-s)+s);return[a*255,i*255,o*255]};l.xyz.rgb=function(t){const n=t[0]/100,e=t[1]/100,r=t[2]/100;let s,a,i;return s=n*3.2406+e*-1.5372+r*-.4986,a=n*-.9689+e*1.8758+r*.0415,i=n*.0557+e*-.204+r*1.057,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,a=a>.0031308?1.055*a**(1/2.4)-.055:a*12.92,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,s=Math.min(Math.max(0,s),1),a=Math.min(Math.max(0,a),1),i=Math.min(Math.max(0,i),1),[s*255,a*255,i*255]};l.xyz.lab=function(t){let n=t[0],e=t[1],r=t[2];n/=95.047,e/=100,r/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,e=e>.008856?e**(1/3):7.787*e+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;const s=116*e-16,a=500*(n-e),i=200*(e-r);return[s,a,i]};l.lab.xyz=function(t){const n=t[0],e=t[1],r=t[2];let s,a,i;a=(n+16)/116,s=e/500+a,i=a-r/200;const o=a**3,c=s**3,h=i**3;return a=o>.008856?o:(a-16/116)/7.787,s=c>.008856?c:(s-16/116)/7.787,i=h>.008856?h:(i-16/116)/7.787,s*=95.047,a*=100,i*=108.883,[s,a,i]};l.lab.lch=function(t){const n=t[0],e=t[1],r=t[2];let s;s=Math.atan2(r,e)*360/2/Math.PI,s<0&&(s+=360);const i=Math.sqrt(e*e+r*r);return[n,i,s]};l.lch.lab=function(t){const n=t[0],e=t[1],s=t[2]/360*2*Math.PI,a=e*Math.cos(s),i=e*Math.sin(s);return[n,a,i]};l.rgb.ansi16=function(t,n=null){const[e,r,s]=t;let a=n===null?l.rgb.hsv(t)[2]:n;if(a=Math.round(a/50),a===0)return 30;let i=30+(Math.round(s/255)<<2|Math.round(r/255)<<1|Math.round(e/255));return a===2&&(i+=60),i};l.hsv.ansi16=function(t){return l.rgb.ansi16(l.hsv.rgb(t),t[2])};l.rgb.ansi256=function(t){const n=t[0],e=t[1],r=t[2];return n===e&&e===r?n<8?16:n>248?231:Math.round((n-8)/247*24)+232:16+36*Math.round(n/255*5)+6*Math.round(e/255*5)+Math.round(r/255*5)};l.ansi16.rgb=function(t){let n=t%10;if(n===0||n===7)return t>50&&(n+=3.5),n=n/10.5*255,[n,n,n];const e=(~~(t>50)+1)*.5,r=(n&1)*e*255,s=(n>>1&1)*e*255,a=(n>>2&1)*e*255;return[r,s,a]};l.ansi256.rgb=function(t){if(t>=232){const a=(t-232)*10+8;return[a,a,a]}t-=16;let n;const e=Math.floor(t/36)/5*255,r=Math.floor((n=t%36)/6)/5*255,s=n%6/5*255;return[e,r,s]};l.rgb.hex=function(t){const e=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".substring(e.length)+e};l.hex.rgb=function(t){const n=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!n)return[0,0,0];let e=n[0];n[0].length===3&&(e=e.split("").map(o=>o+o).join(""));const r=parseInt(e,16),s=r>>16&255,a=r>>8&255,i=r&255;return[s,a,i]};l.rgb.hcg=function(t){const n=t[0]/255,e=t[1]/255,r=t[2]/255,s=Math.max(Math.max(n,e),r),a=Math.min(Math.min(n,e),r),i=s-a;let o,c;return i<1?o=a/(1-i):o=0,i<=0?c=0:s===n?c=(e-r)/i%6:s===e?c=2+(r-n)/i:c=4+(n-e)/i,c/=6,c%=1,[c*360,i*100,o*100]};l.hsl.hcg=function(t){const n=t[1]/100,e=t[2]/100,r=e<.5?2*n*e:2*n*(1-e);let s=0;return r<1&&(s=(e-.5*r)/(1-r)),[t[0],r*100,s*100]};l.hsv.hcg=function(t){const n=t[1]/100,e=t[2]/100,r=n*e;let s=0;return r<1&&(s=(e-r)/(1-r)),[t[0],r*100,s*100]};l.hcg.rgb=function(t){const n=t[0]/360,e=t[1]/100,r=t[2]/100;if(e===0)return[r*255,r*255,r*255];const s=[0,0,0],a=n%1*6,i=a%1,o=1-i;let c=0;switch(Math.floor(a)){case 0:s[0]=1,s[1]=i,s[2]=0;break;case 1:s[0]=o,s[1]=1,s[2]=0;break;case 2:s[0]=0,s[1]=1,s[2]=i;break;case 3:s[0]=0,s[1]=o,s[2]=1;break;case 4:s[0]=i,s[1]=0,s[2]=1;break;default:s[0]=1,s[1]=0,s[2]=o}return c=(1-e)*r,[(e*s[0]+c)*255,(e*s[1]+c)*255,(e*s[2]+c)*255]};l.hcg.hsv=function(t){const n=t[1]/100,e=t[2]/100,r=n+e*(1-n);let s=0;return r>0&&(s=n/r),[t[0],s*100,r*100]};l.hcg.hsl=function(t){const n=t[1]/100,r=t[2]/100*(1-n)+.5*n;let s=0;return r>0&&r<.5?s=n/(2*r):r>=.5&&r<1&&(s=n/(2*(1-r))),[t[0],s*100,r*100]};l.hcg.hwb=function(t){const n=t[1]/100,e=t[2]/100,r=n+e*(1-n);return[t[0],(r-n)*100,(1-r)*100]};l.hwb.hcg=function(t){const n=t[1]/100,r=1-t[2]/100,s=r-n;let a=0;return s<1&&(a=(r-s)/(1-s)),[t[0],s*100,a*100]};l.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};l.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};l.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};l.gray.hsl=function(t){return[0,0,t[0]]};l.gray.hsv=l.gray.hsl;l.gray.hwb=function(t){return[0,100,t[0]]};l.gray.cmyk=function(t){return[0,0,0,t[0]]};l.gray.lab=function(t){return[t[0],0,0]};l.gray.hex=function(t){const n=Math.round(t[0]/100*255)&255,r=((n<<16)+(n<<8)+n).toString(16).toUpperCase();return"000000".substring(r.length)+r};l.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]};const U=At;function Zt(){const t={},n=Object.keys(U);for(let e=n.length,r=0;r<e;r++)t[n[r]]={distance:-1,parent:null};return t}function Qt(t){const n=Zt(),e=[t];for(n[t].distance=0;e.length;){const r=e.pop(),s=Object.keys(U[r]);for(let a=s.length,i=0;i<a;i++){const o=s[i],c=n[o];c.distance===-1&&(c.distance=n[r].distance+1,c.parent=r,e.unshift(o))}}return n}function te(t,n){return function(e){return n(t(e))}}function ee(t,n){const e=[n[t].parent,t];let r=U[n[t].parent][t],s=n[t].parent;for(;n[s].parent;)e.unshift(n[s].parent),r=te(U[n[s].parent][s],r),s=n[s].parent;return r.conversion=e,r}var ne=function(t){const n=Qt(t),e={},r=Object.keys(n);for(let s=r.length,a=0;a<s;a++){const i=r[a];n[i].parent!==null&&(e[i]=ee(i,n))}return e};const ot=At,re=ne,F={},oe=Object.keys(ot);function se(t){const n=function(...e){const r=e[0];return r==null?r:(r.length>1&&(e=r),t(e))};return"conversion"in t&&(n.conversion=t.conversion),n}function ie(t){const n=function(...e){const r=e[0];if(r==null)return r;r.length>1&&(e=r);const s=t(e);if(typeof s=="object")for(let a=s.length,i=0;i<a;i++)s[i]=Math.round(s[i]);return s};return"conversion"in t&&(n.conversion=t.conversion),n}oe.forEach(t=>{F[t]={},Object.defineProperty(F[t],"channels",{value:ot[t].channels}),Object.defineProperty(F[t],"labels",{value:ot[t].labels});const n=re(t);Object.keys(n).forEach(r=>{const s=n[r];F[t][r]=ie(s),F[t][r].raw=se(s)})});var ae=F;const z=nt,b=ae,Ft=["keyword","gray","hex"],st={};for(const t of Object.keys(b))st[[...b[t].labels].sort().join("")]=t;const j={};function x(t,n){if(!(this instanceof x))return new x(t,n);if(n&&n in Ft&&(n=null),n&&!(n in b))throw new Error("Unknown model: "+n);let e,r;if(t==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof x)this.model=t.model,this.color=[...t.color],this.valpha=t.valpha;else if(typeof t=="string"){const s=z.get(t);if(s===null)throw new Error("Unable to parse color from string: "+t);this.model=s.model,r=b[this.model].channels,this.color=s.value.slice(0,r),this.valpha=typeof s.value[r]=="number"?s.value[r]:1}else if(t.length>0){this.model=n||"rgb",r=b[this.model].channels;const s=Array.prototype.slice.call(t,0,r);this.color=it(s,r),this.valpha=typeof t[r]=="number"?t[r]:1}else if(typeof t=="number")this.model="rgb",this.color=[t>>16&255,t>>8&255,t&255],this.valpha=1;else{this.valpha=1;const s=Object.keys(t);"alpha"in t&&(s.splice(s.indexOf("alpha"),1),this.valpha=typeof t.alpha=="number"?t.alpha:0);const a=s.sort().join("");if(!(a in st))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=st[a];const{labels:i}=b[this.model],o=[];for(e=0;e<i.length;e++)o.push(t[i[e]]);this.color=it(o)}if(j[this.model])for(r=b[this.model].channels,e=0;e<r;e++){const s=j[this.model][e];s&&(this.color[e]=s(this.color[e]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}x.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(t){let n=this.model in z.to?this:this.rgb();n=n.round(typeof t=="number"?t:1);const e=n.valpha===1?n.color:[...n.color,this.valpha];return z.to[n.model](e)},percentString(t){const n=this.rgb().round(typeof t=="number"?t:1),e=n.valpha===1?n.color:[...n.color,this.valpha];return z.to.rgb.percent(e)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const t={},{channels:n}=b[this.model],{labels:e}=b[this.model];for(let r=0;r<n;r++)t[e[r]]=this.color[r];return this.valpha!==1&&(t.alpha=this.valpha),t},unitArray(){const t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,this.valpha!==1&&t.push(this.valpha),t},unitObject(){const t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,this.valpha!==1&&(t.alpha=this.valpha),t},round(t){return t=Math.max(t||0,0),new x([...this.color.map(le(t)),this.valpha],this.model)},alpha(t){return t!==void 0?new x([...this.color,Math.max(0,Math.min(1,t))],this.model):this.valpha},red:d("rgb",0,p(255)),green:d("rgb",1,p(255)),blue:d("rgb",2,p(255)),hue:d(["hsl","hsv","hsl","hwb","hcg"],0,t=>(t%360+360)%360),saturationl:d("hsl",1,p(100)),lightness:d("hsl",2,p(100)),saturationv:d("hsv",1,p(100)),value:d("hsv",2,p(100)),chroma:d("hcg",1,p(100)),gray:d("hcg",2,p(100)),white:d("hwb",1,p(100)),wblack:d("hwb",2,p(100)),cyan:d("cmyk",0,p(100)),magenta:d("cmyk",1,p(100)),yellow:d("cmyk",2,p(100)),black:d("cmyk",3,p(100)),x:d("xyz",0,p(95.047)),y:d("xyz",1,p(100)),z:d("xyz",2,p(108.833)),l:d("lab",0,p(100)),a:d("lab",1),b:d("lab",2),keyword(t){return t!==void 0?new x(t):b[this.model].keyword(this.color)},hex(t){return t!==void 0?new x(t):z.to.hex(this.rgb().round().color)},hexa(t){if(t!==void 0)return new x(t);const n=this.rgb().round().color;let e=Math.round(this.valpha*255).toString(16).toUpperCase();return e.length===1&&(e="0"+e),z.to.hex(n)+e},rgbNumber(){const t=this.rgb().color;return(t[0]&255)<<16|(t[1]&255)<<8|t[2]&255},luminosity(){const t=this.rgb().color,n=[];for(const[e,r]of t.entries()){const s=r/255;n[e]=s<=.04045?s/12.92:((s+.055)/1.055)**2.4}return .2126*n[0]+.7152*n[1]+.0722*n[2]},contrast(t){const n=this.luminosity(),e=t.luminosity();return n>e?(n+.05)/(e+.05):(e+.05)/(n+.05)},level(t){const n=this.contrast(t);return n>=7?"AAA":n>=4.5?"AA":""},isDark(){const t=this.rgb().color;return(t[0]*2126+t[1]*7152+t[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const t=this.rgb();for(let n=0;n<3;n++)t.color[n]=255-t.color[n];return t},lighten(t){const n=this.hsl();return n.color[2]+=n.color[2]*t,n},darken(t){const n=this.hsl();return n.color[2]-=n.color[2]*t,n},saturate(t){const n=this.hsl();return n.color[1]+=n.color[1]*t,n},desaturate(t){const n=this.hsl();return n.color[1]-=n.color[1]*t,n},whiten(t){const n=this.hwb();return n.color[1]+=n.color[1]*t,n},blacken(t){const n=this.hwb();return n.color[2]+=n.color[2]*t,n},grayscale(){const t=this.rgb().color,n=t[0]*.3+t[1]*.59+t[2]*.11;return x.rgb(n,n,n)},fade(t){return this.alpha(this.valpha-this.valpha*t)},opaquer(t){return this.alpha(this.valpha+this.valpha*t)},rotate(t){const n=this.hsl();let e=n.color[0];return e=(e+t)%360,e=e<0?360+e:e,n.color[0]=e,n},mix(t,n){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);const e=t.rgb(),r=this.rgb(),s=n===void 0?.5:n,a=2*s-1,i=e.alpha()-r.alpha(),o=((a*i===-1?a:(a+i)/(1+a*i))+1)/2,c=1-o;return x.rgb(o*e.red()+c*r.red(),o*e.green()+c*r.green(),o*e.blue()+c*r.blue(),e.alpha()*s+r.alpha()*(1-s))}};for(const t of Object.keys(b)){if(Ft.includes(t))continue;const{channels:n}=b[t];x.prototype[t]=function(...e){return this.model===t?new x(this):e.length>0?new x(e,t):new x([...he(b[this.model][t].raw(this.color)),this.valpha],t)},x[t]=function(...e){let r=e[0];return typeof r=="number"&&(r=it(e,n)),new x(r,t)}}function ce(t,n){return Number(t.toFixed(n))}function le(t){return function(n){return ce(n,t)}}function d(t,n,e){t=Array.isArray(t)?t:[t];for(const r of t)(j[r]||(j[r]=[]))[n]=e;return t=t[0],function(r){let s;return r!==void 0?(e&&(r=e(r)),s=this[t](),s.color[n]=r,s):(s=this[t]().color[n],e&&(s=e(s)),s)}}function p(t){return function(n){return Math.max(0,Math.min(t,n))}}function he(t){return Array.isArray(t)?t:[t]}function it(t,n){for(let e=0;e<n;e++)typeof t[e]!="number"&&(t[e]=0);return t}var ue=x;const G=ue,L=2e3,fe=Math.ceil(L/C),de=()=>{const t={octaveCount:4,amplitude:.1,persistence:.1};return K.generatePerlinNoise(fe,1,t)};class ye{constructor({id:n,location:e=new m(0,0)}){u(this,"history");u(this,"color");u(this,"createdAt");u(this,"path");u(this,"location");u(this,"id");u(this,"direction");this.createdAt=Date.now(),this.path=de(),this.location=e,this.id=n,this.direction=Math.PI*2*Math.random(),this.color=G({r:Math.random()*255,g:Math.random()*255,b:Math.random()*255}),this.history=[]}update(){const n=Date.now()-this.createdAt;if(n>L){H(this);return}const r=Math.min(Math.floor(n/D),this.path.length),s=20,a=new m(s*this.path[r],5);a.rotate(this.direction),this.location.add(a);const i=L-n,o=this.color.rotate(D/3).alpha(i/(L/5));this.color=o,this.history.push(this.location.clone())}render(){const n=this.color.hexa();f.strokeStyle=n,f.fillStyle=n,f.beginPath(),this.history.length>0?f.moveTo(this.history[0].x,this.history[0].y):f.moveTo(this.location.x,this.location.y),this.history.forEach(e=>{f.lineTo(e.x,e.y)})}}const zt=2e3,pe=9.81,ge=new Array(200).fill(0).map(()=>G([Math.random()*255,Math.random()*255,Math.random()*255]).saturate(100)).filter(t=>t.contrast(G("black"))>7),pt=[...ge],tt=zt,gt=500;class xe{constructor({id:n,location:e=new m(0,0),color:r}){u(this,"location");u(this,"createdAt");u(this,"id");u(this,"color");u(this,"size",Math.random()*(gt/2)+gt*(1/2));this.createdAt=Date.now(),this.location=e,this.id=n,this.color=r}update(){}render(){const n=Date.now()-this.createdAt,e=this.size-n/tt*this.size,r=1-n/tt;if(n>tt||e<=0){H(this);return}const s=f.createRadialGradient(this.location.x,this.location.y,e/50,this.location.x,this.location.y,e/2);s.addColorStop(0,this.color.alpha(r).hexa()),s.addColorStop(1,"transparent"),f.fillStyle=s,f.fillRect(this.location.x-e/2,this.location.y-e/2,e,e)}}const et=zt;class xt{constructor({id:n,location:e=new m(0,0),color:r,speed:s}){u(this,"color");u(this,"createdAt");u(this,"location");u(this,"speed");u(this,"slowDownFactor",.981);u(this,"id");this.color=r||G({r:255,g:255,b:255}),this.speed=s,this.createdAt=Date.now(),this.location=e,this.id=n}update(){const n=Date.now()-this.createdAt;if(n>et){H(this);return}this.speed=this.speed.multiplyScalar(this.slowDownFactor),this.speed=new m(this.speed.x,this.speed.y+.5*(pe*.009)*Math.pow(n/1e3,2)),this.location.add(this.speed)}render(){const n=Date.now()-this.createdAt,e=et-n,r=this.color.alpha(e/(et/5));this.color=r;const s=this.color.hexa();f.strokeStyle=s,f.fillStyle=s,f.beginPath(),f.moveTo(this.location.x,this.location.y),f.lineTo(this.location.x+1,this.location.y+1)}}const me=[{x:-5,y:-5},{x:-4,y:-5},{x:-3,y:-5},{x:-2,y:-5},{x:2,y:-5},{x:3,y:-5},{x:4,y:-5},{x:5,y:-5},{x:-6,y:-4},{x:-5,y:-4},{x:-2,y:-4},{x:-1,y:-4},{x:1,y:-4},{x:2,y:-4},{x:5,y:-4},{x:6,y:-4},{x:-7,y:-3},{x:-6,y:-3},{x:-1,y:-3},{x:0,y:-3},{x:1,y:-3},{x:6,y:-3},{x:7,y:-3},{x:-7,y:-2},{x:-6,y:-2},{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:6,y:-2},{x:7,y:-2},{x:-7,y:-1},{x:-6,y:-1},{x:6,y:-1},{x:7,y:-1},{x:-6,y:-1},{x:6,y:-1},{x:7,y:-1},{x:-6,y:0},{x:-5,y:0},{x:5,y:0},{x:6,y:0},{x:-6,y:1},{x:-5,y:1},{x:-4,y:1},{x:4,y:1},{x:5,y:1},{x:6,y:1},{x:-5,y:2},{x:-4,y:2},{x:4,y:2},{x:5,y:2},{x:-4,y:3},{x:-3,y:3},{x:3,y:3},{x:4,y:3},{x:-3,y:4},{x:-2,y:4},{x:2,y:4},{x:3,y:4},{x:-2,y:4},{x:-1,y:4},{x:1,y:4},{x:2,y:4},{x:-2,y:5},{x:-1,y:5},{x:0,y:5},{x:1,y:5},{x:2,y:5},{x:-1,y:6},{x:0,y:6},{x:1,y:6},{x:0,y:7}],B=2500,be=B/C,ve=()=>{const t={octaveCount:4,amplitude:1,persistence:.2};return K.generatePerlinNoise(be,1,t)},P=12;class we{constructor({id:n,location:e=new m(0,0),direction:r}){u(this,"history");u(this,"speed");u(this,"color");u(this,"createdAt");u(this,"path");u(this,"location");u(this,"hasExploded",!1);u(this,"id");u(this,"direction");u(this,"initialSpeed",P);u(this,"size",Math.random()*80+20);u(this,"slowDownFactor",.98);this.createdAt=Date.now(),this.path=ve(),this.location=e,this.id=n,this.direction=r,this.color=pt[Math.floor(Math.random()*pt.length)],this.history=[],this.speed=Math.random()*P/3+P*2/3}update(){const n=Date.now()-this.createdAt;if(n>B){this.explode();return}S(xt,{location:this.location.clone(),speed:new m(Math.random()*5,0).rotate(this.direction+Math.PI+Math.random()*Math.PI/6-Math.PI/12),color:this.color});const r=Math.min(Math.floor(n/D),this.path.length);this.speed=this.speed*this.slowDownFactor;const s=this.speed*this.slowDownFactor,a=5,i=new m(s,a*(this.path[r]-.5)*this.speed/P);i.rotate(this.direction),this.location.add(i);const o=B-n,c=this.color.alpha(o/(B/5));this.color=c,this.history.push(this.location.clone())}render(){const n=this.speed/P,e=this.size*n,r=f.createRadialGradient(this.location.x,this.location.y,e/50,this.location.x,this.location.y,e/2);r.addColorStop(0,this.color.alpha(1).hexa()),r.addColorStop(.1,this.color.alpha(1).hexa()),r.addColorStop(1,"transparent"),f.fillStyle=r,f.fillRect(this.location.x-e/2,this.location.y-e/2,e,e);const s=this.color.alpha(n).hexa();f.strokeStyle=s,f.fillStyle=s,f.beginPath();const a=25;let i=this.history.length-a;i>0?f.moveTo(this.history[i].x,this.history[i].y):i=0,this.history.slice(this.history.length-a,this.history.length-1).forEach(o=>{f.lineTo(o.x,o.y)})}explode(){for(let n=0;n<25;n++)S(ye,{location:this.location.clone()});me.forEach((n,e)=>{for(let r=0;r<5;r++)S(xt,{speed:new m(n.x+Math.random()-1,n.y+Math.random()-1),location:this.location.clone(),color:this.color})}),S(xe,{location:this.location.clone(),color:this.color}),H(this)}}class Me{constructor({id:n}){u(this,"id");u(this,"location");this.id=n,this.location=new m(Math.random()*window.innerWidth,Math.random()*window.innerHeight)}render(){f.fillStyle="white",f.strokeStyle="white",f.rect(this.location.x,this.location.y,.1,.1)}update(){}}class ke{constructor({id:n,location:e=new m(0,0)}){u(this,"location");u(this,"id");u(this,"timePassed",0);this.location=e,this.id=n,this.launchRocket();let r=1e3;for(;r--;)S(Me,{})}update(){this.timePassed=this.timePassed+D}launchRocket(){setTimeout(()=>{const n=window.innerWidth;S(we,{location:new m(n*.1+Math.random()*n*.8,window.innerHeight),direction:-Math.PI/2}),this.launchRocket()},Math.random()*2e3+200)}render(){}}const w={};let D=0;const S=function(t,n){const e=O(),r=new t({id:e,...n});return w[e]=r,r},H=function(t){delete w[t.id]};function Ot(){N.width=window.innerWidth,N.height=window.innerHeight}window.addEventListener("resize",Ot,!1);Ot();function Se(){f.fillStyle="black",f.strokeStyle="black",f.fillRect(0,0,N.width,N.height);for(const t in w)f.beginPath(),f.moveTo(Math.floor(w[t].location.x),Math.floor(w[t].location.y)),w[t].render(),f.stroke()}function Ae(){for(const t in w)w[t].update()}function Dt(){const t=Date.now();Ae(),Se();const n=Date.now()-t;D=n<C?C:n,document.getElementById("fpsCounter").innerHTML="FPS: "+(1e3/D).toFixed(1),setTimeout(()=>{Dt()},C-n)}const Fe=()=>{S(ke,{})};Fe();Dt();
